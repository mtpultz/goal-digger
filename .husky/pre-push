#!/usr/bin/env sh
function echoBright() {
    echo -e "\033[1;33m$1\033[0m"
}
echoBright "ğŸŸ¡ Running pre-push checks..."

echoBright "ğŸŸ¡ Running backend tests..."
if ! vendor/bin/pest; then
    echoBright "âš ï¸ Backend tests have failed, fix the failing test(s) before committing"
    exit 1
fi
echoBright "âœ… Backend tests passed"

# TODO add in tests when React added
# echoBright "ğŸŸ¡ Running frontend tests..."
# if ! npm run test; then
#     echoBright "âš ï¸ Frontend tests have failed, fix the failing test(s) before committing"
#     exit 1
# fi
# echoBright "âœ… Frontend tests passed"

echoBright "âœ… All pre-push checks passed!"
